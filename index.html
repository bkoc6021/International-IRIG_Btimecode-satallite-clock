<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TÜRKİYE CUMHURİYETİ BURAK KOÇ HİBRİT UYDUSU ULUSLARASI IRIG-B SAATİ</title>
<style>
  body {
    background-color: white;
    color: black;
    font-family: "Times New Roman";
    font-weight: bold;
    margin: 0;
    height: 100vh;
    overflow: hidden;
    user-select: none;
  }

  /* Üst bar: logo ve video */
  .top-bar {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 50px;
    box-sizing: border-box;
    z-index: 10;
  }

  .logo {
    height: 120px;
    width: auto;
  }

  .flag-video {
    height: 120px;
    width: auto;
    border-radius: 0;
  }

  /* Ortalanmış saat */
  .time-container {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    z-index: 5;
  }

  .time {
    font-size: 9em;
    letter-spacing: 4px;
  }

  /* Kırmızı yazı: sayfanın altından 70px yukarı */
  .info {
    font-size: 1.4em;
    color: red;
    max-width: 1000px;
    line-height: 1.5em;
    position: absolute;
    bottom: 70px;
    left: 50%;
    transform: translateX(-50%);
    text-align: center;
  }

  .clickmsg {
    position: absolute;
    bottom: 20px;
    color: gray;
    font-size: 1em;
    font-weight: normal;
    text-align: center;
    width: 100%;
  }

  .rotate-warning {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: red;
    color: white;
    font-weight: bold;
    font-size: 1.5em;
    padding: 15px 25px;
    border-radius: 10px;
    text-align: center;
    z-index: 1000;
    display: none;
  }

  /* Mobil uyumlu */
  @media screen and (max-width: 900px) {
    .logo, .flag-video {
      height: 60px;
    }
    .time {
      font-size: 6em;
    }
    .info {
      font-size: 1em;
    }
    @media (orientation: portrait) {
      .rotate-warning {
        display: block;
      }
    }
  }
</style>
</head>
<body>

<div class="rotate-warning" id="rotateWarning">
  Lütfen cihazınızı yatay hale getiriniz.
</div>

<div class="top-bar">
  <img src="UYDU .png" alt="Logo" class="logo">
  <video class="flag-video" autoplay muted loop playsinline>
    <source src="turkbayragi.mp4" type="video/mp4">
    Tarayıcınız video etiketini desteklemiyor.
  </video>
</div>

<!-- Saat -->
<div class="time-container">
  <div class="time" id="time"></div>
</div>

<!-- Kırmızı yazı -->
<div class="info">
  SES TONUNDA SAAT BİLGİSİ İLETİLMEKTEDİR. RECEIVER SES ÇIKIŞI IRIG-B UYUMLU SAATLERE
  VE CİHAZLARA BAĞLANDIĞINDA, SAAT BİLGİSİ OTOMATİK OLARAK GÜNCELLEMEKTEDİR. 
  "TURKSAT SAAT TV" Kanalında "BAKIM ÇALIŞMASININ DEVAM ETMESİ NEDENİYLE." Buradan BURAK KOÇ tarafından bu web sitesi yapılmıştır. BİLGİLENDİRME AMAÇLIDIR.
</div>

<div class="clickmsg" id="clickmsg">Lütfen IRIG-B ses saatini ve tam ekranı başlatmak için çift tıklayın.</div>

<script>
  /* === EKRAN SAATİ === */
  function updateTime(){
    const now=new Date();
    const h=String(now.getHours()).padStart(2,'0');
    const m=String(now.getMinutes()).padStart(2,'0');
    const s=String(now.getSeconds()).padStart(2,'0');
    document.getElementById("time").textContent=`${h}:${m}:${s}`;
  }
  setInterval(updateTime,1000); 
  updateTime();

  /* === IRIG-B SES MOTORU === */
  (() => {
    let ctx, osc, gain, run=false, nextFrameTime=0;
    const SLOT_MS=10, ON_MS={"0":2,"1":5,"P":8};

    function init(){
      if(ctx) return;
      ctx=new (window.AudioContext||window.webkitAudioContext)();
      osc=ctx.createOscillator(); gain=ctx.createGain();
      osc.type="sine"; osc.frequency.value=1000;
      gain.gain.value=0; osc.connect(gain); gain.connect(ctx.destination);
      osc.start();
      nextFrameTime=ctx.currentTime+0.05;
    }

    const onLen = b => (ON_MS[b]||2)/1000;

    function frameTemplate(){
      const f=Array(100).fill("0");
      for(let i=9;i<100;i+=10) f[i]="P";
      return f;
    }

    const bcd=(v,n)=>Array.from({length:n},(_,i)=>(v>>i)&1?"1":"0");

    function makeFrame(d){
      const f=frameTemplate();
      const s=d.getUTCSeconds(), m=d.getUTCMinutes(), h=d.getUTCHours(),
            doy=Math.floor((Date.UTC(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate())
                  -Date.UTC(d.getUTCFullYear(),0,1))/86400000)+1,
            y=d.getUTCFullYear()%100;
      const w=(i,a)=>a.forEach((v,k)=>{if(f[i+k]!=="P")f[i+k]=v;});
      w(0,bcd(s%10,4)); w(4,bcd(Math.floor(s/10),3));
      w(10,bcd(m%10,4)); w(14,bcd(Math.floor(m/10),3));
      w(20,bcd(h%10,4)); w(24,bcd(Math.floor(h/10),2));
      w(30,bcd(doy%10,4)); w(34,bcd(Math.floor(doy/10)%10,4));
      w(40,bcd(Math.floor(doy/100),2));
      w(50,bcd(y%10,4)); w(54,bcd(Math.floor(y/10),4));
      return f;
    }

    function scheduleFrame(frame,start){
      const g=gain.gain;
      frame.forEach((b,i)=>{
        const t0=start+i*SLOT_MS/1000;
        const t1=t0+onLen(b);
        g.setValueAtTime(0,t0);
        g.linearRampToValueAtTime(0.9,t0+0.0005);
        g.setValueAtTime(0.9,t1);
        g.linearRampToValueAtTime(0,t1+0.0005);
      });
    }

    function loop(){
      if(!run) return;
      const now=ctx.currentTime;
      while(nextFrameTime<now+1.2){
        const date=new Date(Date.now()+ (nextFrameTime-ctx.currentTime)*1000);
        const frame=makeFrame(date);
        scheduleFrame(frame,nextFrameTime);
        nextFrameTime+=1.0;
      }
      requestAnimationFrame(loop);
    }

    function start(){
      if(run) return;
      init(); run=true;
      document.getElementById("clickmsg").style.display="none";
      loop();
      console.log("IRIG-B SES BAŞLADI (KESİNTİSİZ)");
    }

    function stop(){
      run=false;
      try{osc.stop()}catch{}
      try{ctx.close()}catch{}
      ctx=osc=gain=null;
    }

    function requestFullscreen() {
      const el = document.documentElement;
      if (el.requestFullscreen) el.requestFullscreen();
      else if (el.webkitRequestFullscreen) el.webkitRequestFullscreen();
      else if (el.msRequestFullscreen) el.msRequestFullscreen();
    }

    // Tek dokunuşla başlat/durdur ve tam ekran
    function startStopAudio() {
      const rotateWarning = document.getElementById("rotateWarning");
      if (window.innerWidth < window.innerHeight) {
        alert("Lütfen telefonu yatay hale getiriniz.");
        return;
      }
      requestFullscreen();
      if (!run) start();
      else stop();
    }

    document.addEventListener("click", startStopAudio);
    document.addEventListener("touchstart", startStopAudio);
    document.addEventListener("keydown", e => {
      if(e.code==="Space"){ e.preventDefault(); run?stop():start(); }
    });
    document.addEventListener("dblclick",()=>{run?stop():start();});
  })();
</script>

</body>
</html>


